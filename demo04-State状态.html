<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<div id="root" style="border: 1px solid blue;">
			
		</div>
		<div id="mydiv" style="border: 1px solid red;">
			
		</div>
		<div id="mydiv2" style="border: 1px solid black;">
			
		</div>
		<script src="build/react.js"></script>
		<script src="build/react-dom.js"></script>
		<script src="build/browser.min.js"></script>
		<script type="text/babel">
			//函数式组件的写法
			function Clock( props){
				return (
					<div>
						<h1>Hello world</h1>
						<p> this is {props.date.toLocaleString()}</p>
					</div>
				)
			}
			
			ReactDOM.render(
				<Clock date={new Date()} />,
				document.getElementById("mydiv")
			)
			
			//state状态在  类组件中是类转悠的特性，指的是局部状态
			//类组件的写法如下：
			class Clockclass extends React.Component{
				constructor(props) {
					super(props);
					this.state = { date: new Date()};
				}
				//挂载
				componentDidMound() {
					this.timerID = setInterval(
						() => this.tick(),
						1000
					);
				}
				
				//卸载
				componentWillUnmount() {
					clearInterval(this.timerID);
				}
				
				
				//tick()
				
				tick() {
					//周期性地更新组件本地状态
					this.setState({
						date: new Date()
					})
				}
				
				render(){
					return (
						<div>
							<h1>Good morning!</h1>
							<p> It is {this.state.date.toLocaleTimeString()}.</p>
						</div>
					);
				}
			}
			
			//在类组件中，添加本地状态state
			ReactDOM.render(
				<Clockclass />,
				document.getElementById("mydiv2")
			)
			
			//修改状态 state只能用setState()方法
			
		</script>
	</body>
</html>
