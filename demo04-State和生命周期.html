<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<div id="root" style="border: 1px solid blue;">
			
		</div>
		<div id="mydiv" style="border: 1px solid red;">
			
		</div>
		<div id="mydiv2" style="border: 1px solid black;">
			
		</div>
		<script src="build/react.js"></script>
		<script src="build/react-dom.js"></script>
		<script src="build/browser.min.js"></script>
		<script type="text/babel">
			//函数式组件的写法
//			function Clock( props){
//				return (
//					<div>
//						<h1>Hello world</h1>
//						<p> this is {props.date.toLocaleString()}</p>
//					</div>
//				)
//			}
//			
//			ReactDOM.render(
//				<Clock date={new Date()} />,
//				document.getElementById("mydiv")
//			)
			
			//state状态在  类组件中是类专有的特性，指的是局部状态
			//state状态是私有的，由组件自己控制的，props是不变的
			
			//类组件的写法如下：
			class Clock extends React.Component {
				  constructor(props) {
				    super(props);
				    this.state = {date: new Date()};
				  }
				
				  componentDidMount() {
				    this.timerID = setInterval(
				      () => this.tick(),
				      1000
				    );
				  }
				
				  componentWillUnmount() {
				    clearInterval(this.timerID);
				  }
				
				  tick() {
				    this.setState({
				      date: new Date(),
				      comment: "hello"
				    });
				  }
				
				  render() {
				    return (
				      <div>
				        <h1>Hello, world!</h1>
				        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>
				        <h3> {this.state.comment} </h3>
				      </div>
				    );
				  }
				}
				
				ReactDOM.render(
				  <Clock />,
				  document.getElementById('mydiv')
				);
			
			//修改状态 state只能用setState()方法
			//--1 setState( { 对象的写法})
			//--2 setState( 函数的写法)
			
			// React 为了优化性能，有可能会将多个 setState() 调用合并为一次更新。更新可能是异步的
			//state更新合并
			
			//数据向下流动
			//父组件的state状态可以作为子组件的props属性
		</script>
	</body>
</html>
